TCP三次握手过程
TCP三次握手用于建立可靠的连接，过程如下：

SYN（同步）：
客户端发送一个SYN包给服务器，表示请求建立连接。
包含初始序列号（ISN），例如SYN: x.
SYN-ACK（同步-确认）：
服务器收到SYN包后，回应一个SYN-ACK包。
该包确认收到客户端的SYN，并同时发送自己的SYN。
包含服务器的ISN，例如SYN: y, ACK: x+1.
ACK（确认）：
客户端收到SYN-ACK后，发送一个ACK包给服务器，表示连接建立。
包含确认号，例如ACK: y+1.
三次握手的细节
目的：确保双方都能接收到对方的初始序列号，建立可靠的连接。
防止重复连接：通过序列号避免旧连接的干扰。
状态变化：连接从CLOSED变为ESTABLISHED。
TCP四次挥手过程
TCP四次挥手用于断开连接，过程如下：

FIN（结束）：
客户端发送一个FIN包，表示希望关闭连接。
例如FIN: x.
ACK（确认）：
服务器收到FIN后，回应一个ACK包，确认收到客户端的关闭请求。
包含确认号，例如ACK: x+1.
FIN（结束）：
服务器准备关闭连接，发送一个FIN包给客户端。
例如FIN: y.
ACK（确认）：
客户端收到FIN后，发送ACK包给服务器，确认关闭请求。
包含确认号，例如ACK: y+1.
四次挥手的细节
目的：确保双方都能独立关闭连接，避免数据丢失。
半关闭状态：一方可以在关闭后继续接收数据。
状态变化：连接从ESTABLISHED变为CLOSE_WAIT和LAST_ACK等状态，最终回到CLOSED。
总结
三次握手确保可靠连接的建立。
四次挥手确保连接的有序关闭。